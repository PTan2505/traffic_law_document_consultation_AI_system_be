{"details":{"clientVersion":"6.9.0","code":"P2003","meta":{"constraint":"Message_conversationId_fkey","modelName":"Message"},"name":"PrismaClientKnownRequestError"},"level":"error","message":"\nInvalid `prisma.message.create()` invocation in\nC:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\src\\repository\\messages.repository.ts:9:31\n\n  6 \n  7 export class MessageRepository implements BaseRepository<Message> {\n  8     async create(data: CreateMessageDto): Promise<Message> {\n→ 9         return prisma.message.create(\nForeign key constraint violated on the constraint: `Message_conversationId_fkey`","method":"POST","path":"/api/v1/messages","private":true,"stack":"PrismaClientKnownRequestError: \nInvalid `prisma.message.create()` invocation in\nC:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\src\\repository\\messages.repository.ts:9:31\n\n  6 \n  7 export class MessageRepository implements BaseRepository<Message> {\n  8     async create(data: CreateMessageDto): Promise<Message> {\n→ 9         return prisma.message.create(\nForeign key constraint violated on the constraint: `Message_conversationId_fkey`\n    at Zn.handleRequestError (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at async l (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)","timestamp":"2025-06-15T16:14:42.408Z"}
{"details":{"clientVersion":"6.9.0","code":"P2003","meta":{"constraint":"Message_conversationId_fkey","modelName":"Message"},"name":"PrismaClientKnownRequestError"},"level":"error","message":"\nInvalid `prisma.message.create()` invocation in\nC:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\src\\repository\\messages.repository.ts:9:31\n\n  6 \n  7 export class MessageRepository implements BaseRepository<Message> {\n  8     async create(data: CreateMessageDto): Promise<Message> {\n→ 9         return prisma.message.create(\nForeign key constraint violated on the constraint: `Message_conversationId_fkey`","method":"POST","path":"/api/v1/messages","private":true,"stack":"PrismaClientKnownRequestError: \nInvalid `prisma.message.create()` invocation in\nC:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\src\\repository\\messages.repository.ts:9:31\n\n  6 \n  7 export class MessageRepository implements BaseRepository<Message> {\n  8     async create(data: CreateMessageDto): Promise<Message> {\n→ 9         return prisma.message.create(\nForeign key constraint violated on the constraint: `Message_conversationId_fkey`\n    at Zn.handleRequestError (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at async l (C:\\LearningMaterialProject\\consutant_ai_traffic\\traffic_law_document_consultation_AI_system_be\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)","timestamp":"2025-06-15T16:17:06.033Z"}
{"details":{"isOperational":true,"name":"GEMINI_API_ERROR","statusCode":500},"level":"error","message":"Failed to get response from AI assistant","method":"POST","path":"/api/v1/chatbot/chat","private":true,"stack":"GEMINI_API_ERROR: Failed to get response from AI assistant\n    at new AppError (C:\\Users\\ASUS\\Desktop\\Projects\\SWD\\src\\common\\errors\\app-errors.ts:30:11)\n    at new APIError (C:\\Users\\ASUS\\Desktop\\Projects\\SWD\\src\\common\\errors\\app-errors.ts:42:5)\n    at GeminiService.<anonymous> (C:\\Users\\ASUS\\Desktop\\Projects\\SWD\\src\\services\\gemini.service.ts:42:13)\n    at Generator.throw (<anonymous>)\n    at rejected (C:\\Users\\ASUS\\Desktop\\Projects\\SWD\\src\\services\\gemini.service.ts:6:65)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28T10:34:30.089Z"}
